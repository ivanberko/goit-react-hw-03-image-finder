{"version":3,"sources":["Components/Overlay/Overlay.module.css","Components/App/App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","services/api.js","utils/helpers.js","Components/Searchbar/Searchbar.jsx","Components/ImageGallery/ImageGallery.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/Button/Button.jsx","Components/Overlay/Overlay.jsx","Components/Modal/Modal.jsx","Components/App/App.jsx","index.js","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","fetchData","query","page","requestParams","axios","get","then","res","data","hits","formatData","map","id","webformatURL","largeImageURL","scrollTo","window","top","document","documentElement","scrollHeight","behavior","Searchbar","state","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","props","onSubmit","this","className","SearchbarForm","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","propsTypes","PropTypes","func","isRequired","ImageGallery","children","ImagesGallery","ImageGalleryItem","images","onClickModal","ImgGalleryItem","key","src","data-large-url","alt","ImageGalleryItemImage","onClick","Button","onLoadMore","Btn","Overlay","OverlayModal","data-cover","Modal","largeImg","string","App","isLoading","isModal","uponRequest","length","prevState","catch","error","console","log","finally","onSearchForm","queryForm","handleOpenModal","dataset","largeUrl","handleCloseModal","code","cover","addEventListener","prevProps","removeEventListener","AppMain","color","height","width","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b626459a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"OverlayModal\":\"Overlay_OverlayModal__3CZP2\",\"Modal\":\"Overlay_Modal__27sNN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppMain\":\"App_AppMain__1T1ln\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImagesGallery\":\"ImageGallery_ImagesGallery__2NOAL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__Qp8r0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchbarForm\":\"Searchbar_SearchbarForm__NxiCD\",\"SearchForm\":\"Searchbar_SearchForm__Ts5n9\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1a0TY\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3djT8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3xb-V\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3bEiM\"};","import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://pixabay.com/api\";\r\nconst apiKey = \"13689220-f8624404383f6a2586dfba74c\";\r\nconst perPage = 12;\r\n\r\nexport const fetchData = (query, page) => {\r\n  const requestParams = `/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${perPage}&key=${apiKey}`;\r\n  return axios.get(`${baseUrl}${requestParams}`).then((res) => {\r\n    return res.data.hits;\r\n  });\r\n};\r\n","export const formatData = (data) =>\r\n  [...data].map(({ id, webformatURL, largeImageURL }) => ({\r\n    id,\r\n    webformatURL,\r\n    largeImageURL,\r\n  }));\r\n\r\nexport const scrollTo = () =>\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { SearchbarForm, SearchForm, SearchFormButton, SearchFormButtonLabel, SearchFormInput} from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propsTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    const { query } = this.state;\r\n    e.preventDefault();\r\n    this.props.onSubmit(query);\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className={SearchbarForm}>\r\n        <form className={SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={SearchFormButton}>\r\n            <span className={SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={SearchFormInput}\r\n            type=\"text\"\r\n            name=\"query\"\r\n            value={query}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { ImagesGallery } from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ children }) => (\r\n  <ul className={ImagesGallery}>{children}</ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  ImgGalleryItem,\r\n  ImageGalleryItemImage,\r\n} from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ images, onClickModal }) =>\r\n  images.map(({ id, webformatURL, largeImageURL }) => (\r\n    <li className={ImgGalleryItem} key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        data-large-url={largeImageURL}\r\n        alt=\"\"\r\n        className={ImageGalleryItemImage}\r\n        onClick={onClickModal}\r\n      />\r\n    </li>\r\n  ));\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Btn } from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className={Btn} onClick={onLoadMore}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propsTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { OverlayModal, Modal } from \"./Overlay.module.css\";\r\n\r\nconst Overlay = ({ onClickModal, children }) => (\r\n  <div className={OverlayModal} data-cover=\"overlay\" onClick={onClickModal}>\r\n    <div className={Modal}>{children}</div>\r\n  </div>\r\n);\r\n\r\nOverlay.propsTypes = {\r\n  onClickModal: PropTypes.func.isRequired,\r\n};\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Modal = ({ largeImg }) => <img src={largeImg} alt=\"\" />;\r\n\r\nModal.propsTypes = {\r\n  largeImg: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { fetchData } from \"../../services/api\";\r\nimport { AppMain } from \"./App.module.css\";\r\nimport { formatData, scrollTo } from \"../../utils/helpers\";\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Button from \"../Button/Button\";\r\nimport Overlay from \"../Overlay/Overlay\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    hits: [],\r\n    query: \"\",\r\n    page: 1,\r\n    largeImg: \"\",\r\n    isLoading: false,\r\n    isModal: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keyup\", this.handleCloseModal);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page } = this.state;\r\n    if (prevState.query !== query || prevState.page !== page) {\r\n      this.uponRequest();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keyup\", this.handleCloseModal);\r\n  }\r\n\r\n  uponRequest = () => {\r\n    const { query, page, hits } = this.state;\r\n    this.setState({ isLoading: true });\r\n    fetchData(query, page)\r\n      .then((data) =>\r\n        !hits.length\r\n          ? this.setState({ hits: formatData(data) })\r\n          : this.setState((prevState) => ({\r\n              hits: [...prevState.hits, ...formatData(data)],\r\n            }))\r\n      )\r\n      .catch((error) => console.log(error))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        if (hits.length) {\r\n          scrollTo();\r\n        }\r\n      });\r\n  };\r\n\r\n  onLoadMore = () => {\r\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  onSearchForm = (queryForm) => {\r\n    this.setState({ query: queryForm, hits: [], page: 1 });\r\n  };\r\n\r\n  handleOpenModal = ({ target: { dataset } }) => {\r\n    this.setState({ largeImg: dataset.largeUrl, isModal: true });\r\n  };\r\n\r\n  handleCloseModal = ({ code, target }) => {\r\n    if (code === \"Escape\" || target.dataset.cover === \"overlay\") {\r\n      this.setState({ isModal: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { hits, isLoading, isModal, largeImg } = this.state;\r\n    return (\r\n      <main className={AppMain}>\r\n        <Searchbar onSubmit={this.onSearchForm} />\r\n        {hits.length > 0 && (\r\n          <ImageGallery>\r\n            <ImageGalleryItem\r\n              images={hits}\r\n              onClickModal={this.handleOpenModal}\r\n            />\r\n          </ImageGallery>\r\n        )}\r\n        {isLoading && (\r\n          <Overlay>\r\n            <Loader type=\"Rings\" color=\"#3f51b5\" height={80} width={80} />\r\n          </Overlay>\r\n        )}\r\n        {hits.length > 0 && <Button onLoadMore={this.onLoadMore} />}\r\n        {isModal && (\r\n          <Overlay onClickModal={this.handleCloseModal}>\r\n            <Modal largeImg={largeImg} />\r\n          </Overlay>\r\n        )}\r\n      </main>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./Components/App/App\";\r\nimport './style.css'\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImgGalleryItem\":\"ImageGalleryItem_ImgGalleryItem__1P6aN\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1Q7EV\"};"],"sourceRoot":""}